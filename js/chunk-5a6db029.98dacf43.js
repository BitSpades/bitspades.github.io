(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a6db029"],{"33c4":function(e,t,n){},"90ee":function(e,t,n){"use strict";n("e9f8")},b64b:function(e,t,n){var i=n("23e7"),c=n("7b0b"),r=n("df75"),a=n("d039"),s=a((function(){r(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return r(c(e))}})},b912:function(e,t,n){"use strict";n("33c4")},c5e5:function(e,t,n){"use strict";n.r(t);var i=n("f2bf"),c=function(e){return Object(i["w"])("data-v-2d89a2e6"),e=e(),Object(i["u"])(),e},r={class:"game-play"},a={class:"slide-container"},s=["min","max"],o=c((function(){return Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1)})),l={class:"playing-table"},u={class:"felt-background"},d={class:"dice"},f=Object(i["i"])("Randomize"),b=c((function(){return Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1)})),h=c((function(){return Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1)})),m=Object(i["i"])("Make Bet");function g(e,t,n,c,g,O){var j=Object(i["B"])("Dice1"),k=Object(i["B"])("Dice2"),v=Object(i["B"])("Dice3"),w=Object(i["B"])("Dice4"),p=Object(i["B"])("Dice5"),y=Object(i["B"])("Dice6"),x=Object(i["B"])("MatButton"),B=Object(i["B"])("GameHistory2");return Object(i["t"])(),Object(i["f"])(i["a"],null,[Object(i["g"])("div",r,[Object(i["g"])("div",a,[Object(i["g"])("label",null,[Object(i["K"])(Object(i["g"])("input",{class:"slider",type:"range",step:"0.01",min:e.gameMinimumBet,max:e.gameMaxWinAmount/.98-.01,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.betAmount=t})},null,8,s),[[i["H"],e.betAmount]])])]),Object(i["K"])(Object(i["g"])("input",{style:{color:"black"},"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.betAmount=t}),placeholder:"Enter bet amount",onInput:t[2]||(t[2]=function(t){return e.BetAmountUpdated()})},null,544),[[i["H"],e.betAmount]]),o,Object(i["g"])("div",l,[Object(i["g"])("div",u,[Object(i["g"])("div",d,[Object(i["j"])(j,{class:Object(i["p"])(1 in e.diceSides?"active":""),onClick:t[3]||(t[3]=function(t){return e.ToggleDice(1)})},null,8,["class"]),Object(i["j"])(k,{class:Object(i["p"])(2 in e.diceSides?"active":""),onClick:t[4]||(t[4]=function(t){return e.ToggleDice(2)})},null,8,["class"]),Object(i["j"])(v,{class:Object(i["p"])(3 in e.diceSides?"active":""),onClick:t[5]||(t[5]=function(t){return e.ToggleDice(3)})},null,8,["class"]),Object(i["j"])(w,{class:Object(i["p"])(4 in e.diceSides?"active":""),onClick:t[6]||(t[6]=function(t){return e.ToggleDice(4)})},null,8,["class"]),Object(i["j"])(p,{class:Object(i["p"])(5 in e.diceSides?"active":""),onClick:t[7]||(t[7]=function(t){return e.ToggleDice(5)})},null,8,["class"]),Object(i["j"])(y,{class:Object(i["p"])(6 in e.diceSides?"active":""),onClick:t[8]||(t[8]=function(t){return e.ToggleDice(6)})},null,8,["class"])]),Object(i["j"])(x,{h:"194",s:"95",l:"16",class:"btn",onClick:t[9]||(t[9]=function(t){return e.Randomize()})},{default:Object(i["J"])((function(){return[f]})),_:1})])]),b,Object(i["g"])("div",null,"Win Chance: "+Object(i["E"])(e.CalculateWinChance),1),Object(i["g"])("div",null,"Profit on win: "+Object(i["E"])(e.ProfitOnWin),1),Object(i["g"])("div",null,"Profit on win: "+Object(i["E"])(e.ProfitOnWinOld),1),h,Object(i["j"])(x,{h:"194",s:"95",l:"16",class:"btn",onClick:t[10]||(t[10]=function(t){return e.MakeBet()})},{default:Object(i["J"])((function(){return[m]})),_:1})]),Object(i["j"])(B)],64)}var O=n("1da1"),j=(n("96cf"),n("b64b"),n("d3b7"),n("25f0"),n("99af"),n("c030")),k=n("6779"),v=n("901e"),w=n.n(v),p=n("4ee3"),y=function(e){return Object(i["w"])("data-v-36240f8d"),e=e(),Object(i["u"])(),e},x={class:"game-history"},B={class:"test-table"},A=y((function(){return Object(i["g"])("tr",null,[Object(i["g"])("th",null,"Guess"),Object(i["g"])("th",null,"Result"),Object(i["g"])("th",null,"Bet Amount"),Object(i["g"])("th",null,"Winnings")],-1)})),D=Object(i["i"])("Pending");function M(e,t,n,c,r,a){return Object(i["t"])(),Object(i["f"])("div",x,[Object(i["g"])("table",B,[A,(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(e.gameHistory,(function(t){return Object(i["t"])(),Object(i["f"])("tr",{key:t,class:Object(i["p"])(t.resolved?t.guess&t.randomnessResult?"win":"lose":"pending")},[Object(i["g"])("td",null,[(Object(i["t"])(!0),Object(i["f"])(i["a"],null,Object(i["z"])(e.ParseNumToDice(t.guess),(function(e){return Object(i["t"])(),Object(i["d"])(Object(i["C"])(e),{key:e,markRaw:""})})),128))]),Object(i["g"])("td",null,[t.resolved?(Object(i["t"])(),Object(i["d"])(Object(i["C"])(e.ParseNumToDiceResolved(t.randomnessResult)),{key:0,markRaw:""})):(Object(i["t"])(),Object(i["f"])(i["a"],{key:1},[D],64))]),Object(i["g"])("td",null,Object(i["E"])(t.betAmount),1),Object(i["g"])("td",null,Object(i["E"])(t.resolved?t.winAmount:"Pending"),1)],2)})),128))])])}var S=n("3835"),C=n("315c"),N=n("f168"),R=n("2847"),P=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(118.3 -38.25)">\n      <rect x="-118.3" y="38.25" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-109" cy="47.51" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),H=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(93.07 -41.32)">\n      <rect x="-93.07" y="41.32" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-79.17" cy="55.22" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-88.44" cy="45.94" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),T=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(114.5 -58.35)">\n      <rect x="-114.5" y="58.35" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-105.2" cy="67.61" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-100.6" cy="72.25" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-109.8" cy="62.98" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),U=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(139.7 -56.45)">\n      <rect x="-139.7" y="56.45" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-125.8" cy="70.35" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-135.1" cy="70.35" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-135.1" cy="61.07" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.8" cy="61.07" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),I=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(142.9 -80.47)">\n      <rect x="-142.9" y="80.47" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-133.7" cy="89.74" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-129" cy="94.37" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-138.3" cy="94.37" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-138.3" cy="85.1" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-129" cy="85.1" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),W=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(139.5 -100.6)">\n      <rect x="-139.5" y="100.6" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-134.9" cy="109.8" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="109.8" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="114.5" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-134.9" cy="114.5" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-134.9" cy="105.2" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="105.2" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '});w.a.config({ROUNDING_MODE:w.a.ROUND_DOWN,EXPONENTIAL_AT:99});var _=Object(i["k"])({components:{Dice1:P,Dice2:H,Dice3:T,Dice4:U,Dice5:I,Dice6:W},setup:function(){var e=Object(i["n"])("providerUser"),t=Object(i["n"])("walletAddress"),n=Object(i["n"])("contractGameDice");return{providerUser:e,walletAddress:t,contractGame:n}},data:function(){return{gameHistory:[],gameHistoryIds:{},checkBlockChainLock:!1,gamesPlayedPrevious:0}},methods:{ParseNumToDice:function(e){for(var t=[],n=1;n<=6;n++)e&Math.pow(2,n-1)&&t.push("Dice".concat(n));return t},ParseNumToDiceResolved:function(e){for(var t=1;t<=6;t++)if(e&Math.pow(2,t-1))return"Dice".concat(t)},CheckBlockChain:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,i,c,r,a,s,o,l,u,d,f,b,h,m,g,O,j,k,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkBlockChainLock){e.next=42;break}if(this.checkBlockChainLock=!0,!this.walletAddress){e.next=41;break}return e.abrupt("return");case 10:this.gamesPlayedPrevious=t;case 11:for(n=[],i=t-1;i>=0;i--)i in this.gameHistoryIds&&0!==this.gameHistoryIds[i]||n.push({target:R["b"],func:"playerBets",data:[this.walletAddress,i]});return e.next=15,Object(N["a"])(this.providerUser,n);case 15:c=e.sent,r=0;case 17:if(!(r<c.length)){e.next=41;break}if(a=Object(S["a"])(c[r],8),s=a[0],o=a[1],l=a[2],u=a[4],d=a[5],f=a[6],b=a[7],h=s.toString(),m=o.toNumber(),g=l.toNumber(),O=u.toNumber(),j=Object(C["a"])(new w.a(d)),k=Object(C["a"])(new w.a(f)),!(m in this.gameHistoryIds)){e.next=36;break}v=0;case 27:if(!(v<this.gameHistory.length)){e.next=34;break}if(this.gameHistory[v].id!==h){e.next=31;break}return this.gameHistory[v]={id:h,index:m,guess:g,randomnessResult:O,betAmount:j,winAmount:k,resolved:b},e.abrupt("break",34);case 31:v++,e.next=27;break;case 34:e.next=37;break;case 36:b?this.gameHistory.push({id:h,index:m,guess:g,randomnessResult:O,betAmount:j,winAmount:k,resolved:b}):this.gameHistory.unshift({id:h,index:m,guess:g,randomnessResult:O,betAmount:j,winAmount:k,resolved:b});case 37:this.gameHistoryIds[m]=b?1:0;case 38:r++,e.next=17;break;case 41:this.checkBlockChainLock=!1;case 42:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},watch:{walletAddress:function(e,t){var n,i=this;this.checkBlockChainLock=!1,e?(this.CheckBlockChain(),n=setInterval(Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.CheckBlockChain());case 1:case"end":return e.stop()}}),e)}))),1e4)):clearInterval(n)}}}),E=(n("90ee"),n("6b0d")),L=n.n(E);const G=L()(_,[["render",M],["__scopeId","data-v-36240f8d"]]);var z=G;w.a.config({ROUNDING_MODE:w.a.ROUND_DOWN,EXPONENTIAL_AT:99});var J=Object(i["k"])({components:{MatButton:p["a"],GameHistory2:z,Dice1:P,Dice2:H,Dice3:T,Dice4:U,Dice5:I,Dice6:W},setup:function(){var e=Object(i["n"])("providerUser"),t=Object(i["n"])("signer"),n=Object(i["n"])("walletAddress"),c=Object(i["n"])("walletBalance"),r=Object(i["n"])("gameBalanceMatic"),a=Object(i["n"])("gameBalanceLink"),s=Object(i["n"])("gameMinimumBet"),o=Object(i["n"])("gameMaxWinAmount");return{providerUser:e,signer:t,walletAddress:n,walletBalance:c,gameBalanceMatic:r,gameBalanceLink:a,gameMinimumBet:s,gameMaxWinAmount:o}},data:function(){return{betAmount:"0.1",diceSides:{}}},created:function(){this.Randomize()},methods:{ToggleDice:function(e){e in this.diceSides?delete this.diceSides[e]:this.diceSides[e]=!0},Randomize:function(){var e=Math.floor(2*Math.random()),t=Math.floor(2*Math.random()),n=Math.floor(2*Math.random()),i=Math.floor(2*Math.random()),c=Math.floor(2*Math.random()),r=Math.floor(2*Math.random()),a=e+t+n+i+c+r;if(0===a||6===a){var s=Math.floor(6*Math.random());switch(s){case 0:e=e?0:1;break;case 1:t=t?0:1;break;case 2:n=n?0:1;break;case 3:i=i?0:1;break;case 4:c=c?0:1;break;case 5:r=r?0:1;break;default:break}}this.diceSides={},e&&(this.diceSides[1]=!0),t&&(this.diceSides[2]=!0),n&&(this.diceSides[3]=!0),i&&(this.diceSides[4]=!0),c&&(this.diceSides[5]=!0),r&&(this.diceSides[6]=!0)},BetAmountUpdated:function(){var e,t,n,i=null===(e=this.betAmount)||void 0===e?void 0:e.indexOf(".");-1!==i&&((null===(t=this.betAmount)||void 0===t?void 0:t.length)>i+3&&(this.betAmount=null===(n=this.betAmount)||void 0===n?void 0:n.substr(0,i+3)))},MakeBet:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,i,c,r,a,s,o,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.providerUser){e.next=2;break}return e.abrupt("return");case 2:if(!isNaN(this.betAmount)){e.next=4;break}return e.abrupt("return");case 4:if(this.betAmount){e.next=6;break}return e.abrupt("return");case 6:if(0!==Object.keys(this.diceSides).length){e.next=8;break}return e.abrupt("return");case 8:if(!(Object.keys(this.diceSides).length>=6)){e.next=10;break}return e.abrupt("return");case 10:if(t=new w.a(this.betAmount),n=new w.a(this.gameMinimumBet),i=new w.a(this.gameMaxWinAmount),!t.lt(n)){e.next=18;break}return alert("Bet too small"),e.abrupt("return");case 18:if(!t.multipliedBy(.98).gt(i)){e.next=21;break}return alert("Potential win amount is too large"),e.abrupt("return");case 21:for(l in c=t.toString(),r=j["a"].utils.parseUnits(c,"ether").toHexString(),a="0x676d7089",s=k["utils"].hexZeroPad(R["b"],32).substring(2),o=0,this.diceSides)o|=Math.pow(2,parseInt(l)-1);return o=k["utils"].hexZeroPad("0x".concat(o.toString(16)),32).substring(2),u="".concat(a).concat(s).concat(o),d=[{from:this.walletAddress,to:R["a"],value:r,data:u}],e.next=32,this.providerUser.send("eth_sendTransaction",d);case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{CalculateWinChance:function(){var e=Object.keys(this.diceSides).length;if(0===e||6===e)return"---";switch(e){case 1:return"16.6%";case 2:return"33%";case 3:return"50%";case 4:return"67%";case 5:return"83%";default:return"---"}},ProfitOnWin:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e,t=Object.keys(this.diceSides).length;if(0===t||6===t)return"---";switch(t){case 1:e=.166667;break;case 2:e=.333333;break;case 3:e=.5;break;case 4:e=.666667;break;case 5:e=.833333;break;default:return"---"}var n=new w.a(this.betAmount),i=new w.a(e),c=new w.a(.01),r=n.multipliedBy(c),a=n.minus(r),s=a.dividedBy(i),o=s.minus(n);return o.toString()},ProfitOnWinOld:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=new w.a(this.betAmount).multipliedBy(.98).toString();return e}}});n("b912");const K=L()(J,[["render",g],["__scopeId","data-v-2d89a2e6"]]);t["default"]=K},e9f8:function(e,t,n){}}]);