(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-197aff74"],{"6d71":function(e,t,n){},"7eee":function(e,t,n){"use strict";n("6d71")},a15b:function(e,t,n){"use strict";var i=n("23e7"),r=n("44ad"),c=n("fc6a"),a=n("a640"),s=[].join,o=r!=Object,l=a("join",",");i({target:"Array",proto:!0,forced:o||!l},{join:function(e){return s.call(c(this),void 0===e?",":e)}})},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,n){var i=n("23e7"),r=n("7b0b"),c=n("df75"),a=n("d039"),s=a((function(){c(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(e){return c(r(e))}})},c5e5:function(e,t,n){"use strict";n.r(t);var i=n("f2bf");Object(i["x"])("data-v-5115c3f9");var r={class:"game-play"},c={class:"slide-container"},a=["min","max"],s=Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1),o={class:"dice"},l=Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1),u=Object(i["g"])("div",{style:{margin:"8px 0"}},null,-1),d=Object(i["i"])("Make Bet");function f(e,t,n,f,h,b){var m=Object(i["C"])("Dice1"),g=Object(i["C"])("Dice2"),j=Object(i["C"])("Dice3"),O=Object(i["C"])("Dice4"),k=Object(i["C"])("Dice5"),v=Object(i["C"])("Dice6"),w=Object(i["C"])("MatButton"),p=Object(i["C"])("GameHistory2");return Object(i["u"])(),Object(i["f"])(i["a"],null,[Object(i["g"])("div",r,[Object(i["g"])("div",c,[Object(i["g"])("label",null,[Object(i["L"])(Object(i["g"])("input",{class:"slider",type:"range",step:"0.01",min:e.gameMinimumBet,max:e.gameMaxWinAmount/.98-.01,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.betAmount=t})},null,8,a),[[i["I"],e.betAmount]])])]),Object(i["L"])(Object(i["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.betAmount=t}),placeholder:"Enter bet amount",onInput:t[2]||(t[2]=function(t){return e.BetAmountUpdated()})},null,544),[[i["I"],e.betAmount]]),s,Object(i["g"])("div",o,[Object(i["j"])(m,{class:Object(i["p"])(1 in e.diceSides?"active":""),onClick:t[3]||(t[3]=function(t){return e.ToggleDice(1)})},null,8,["class"]),Object(i["j"])(g,{class:Object(i["p"])(2 in e.diceSides?"active":""),onClick:t[4]||(t[4]=function(t){return e.ToggleDice(2)})},null,8,["class"]),Object(i["j"])(j,{class:Object(i["p"])(3 in e.diceSides?"active":""),onClick:t[5]||(t[5]=function(t){return e.ToggleDice(3)})},null,8,["class"]),Object(i["j"])(O,{class:Object(i["p"])(4 in e.diceSides?"active":""),onClick:t[6]||(t[6]=function(t){return e.ToggleDice(4)})},null,8,["class"]),Object(i["j"])(k,{class:Object(i["p"])(5 in e.diceSides?"active":""),onClick:t[7]||(t[7]=function(t){return e.ToggleDice(5)})},null,8,["class"]),Object(i["j"])(v,{class:Object(i["p"])(6 in e.diceSides?"active":""),onClick:t[8]||(t[8]=function(t){return e.ToggleDice(6)})},null,8,["class"]),Object(i["g"])("button",{onClick:t[9]||(t[9]=function(t){return e.Randomize()})},"Randomize")]),l,Object(i["g"])("div",null,"Win Chance: "+Object(i["F"])(e.CalculateWinChance),1),Object(i["g"])("div",null,"Profit on win: "+Object(i["F"])(e.ProfitOnWin),1),Object(i["g"])("div",null,"Profit on win: "+Object(i["F"])(e.ProfitOnWinOld),1),u,Object(i["j"])(w,{h:"194",s:"95",l:"16",class:"btn",onClick:e.MakeBet},{default:Object(i["K"])((function(){return[d]})),_:1},8,["onClick"])]),Object(i["j"])(p)],64)}Object(i["v"])();var h=n("1da1"),b=(n("96cf"),n("b64b"),n("d3b7"),n("25f0"),n("99af"),n("c030")),m=n("6779"),g=n("901e"),j=n.n(g),O=n("2847"),k=n("4ee3");Object(i["x"])("data-v-3b9f1b78");var v={class:"game-history"},w=Object(i["g"])("div",null,"Game History",-1),p={class:"test-table"},x=Object(i["g"])("tr",null,[Object(i["g"])("th",null,"ID"),Object(i["g"])("th",null,"Guess"),Object(i["g"])("th",null,"Result"),Object(i["g"])("th",null,"Bet Amount"),Object(i["g"])("th",null,"Winnings")],-1);function y(e,t,n,r,c,a){return Object(i["u"])(),Object(i["f"])("div",v,[w,Object(i["g"])("table",p,[x,(Object(i["u"])(!0),Object(i["f"])(i["a"],null,Object(i["A"])(e.gameHistory,(function(t){return Object(i["u"])(),Object(i["f"])("tr",{key:t,class:Object(i["p"])(t.resolved?t.guess&t.randomnessResult?"win":"lose":"pending")},[Object(i["g"])("td",null,Object(i["F"])(t.id),1),Object(i["g"])("td",null,Object(i["F"])(e.ParseNumToDice(t.guess)),1),Object(i["g"])("td",null,Object(i["F"])(t.resolved?e.ParseNumToDice(t.randomnessResult):"Pending"),1),Object(i["g"])("td",null,Object(i["F"])(t.betAmount),1),Object(i["g"])("td",null,Object(i["F"])(t.resolved?t.winAmount:"Pending"),1)],2)})),128))])])}Object(i["v"])();var A=n("3835"),B=(n("a15b"),n("315c")),C=n("f168"),M=Object(i["k"])({setup:function(){var e=Object(i["n"])("providerUser"),t=Object(i["n"])("walletAddress"),n=Object(i["n"])("contractGameDice");return{providerUser:e,walletAddress:t,contractGame:n}},data:function(){return{gameHistory:[],gameHistoryIds:{},checkBlockChainLock:!1,gamesPlayedPrevious:0}},methods:{ParseNumToDice:function(e){for(var t=[],n=1;n<=6;n++)e&Math.pow(2,n-1)&&t.push(n);return t.join()},CheckBlockChain:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,c,a,s,o,l,u,d,f,h,b,m,g,k,v,w,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkBlockChainLock){e.next=43;break}if(this.checkBlockChainLock=!0,!this.walletAddress){e.next=42;break}return e.next=5,this.contractGame.GetPlayerGamesCount(this.walletAddress);case 5:if(t=e.sent,t!==this.gamesPlayedPrevious){e.next=11;break}return this.checkBlockChainLock=!1,e.abrupt("return");case 11:this.gamesPlayedPrevious=t;case 12:for(n=[],i=t-1;i>=0;i--)i in this.gameHistoryIds&&0!==this.gameHistoryIds[i]||n.push({target:O["b"],func:"playerBets",data:[this.walletAddress,i]});return e.next=16,Object(C["a"])(this.providerUser,n);case 16:r=e.sent,c=0;case 18:if(!(c<r.length)){e.next=42;break}if(a=Object(A["a"])(r[c],8),s=a[0],o=a[1],l=a[2],u=a[4],d=a[5],f=a[6],h=a[7],b=s.toString(),m=o.toNumber(),g=l.toNumber(),k=u.toNumber(),v=Object(B["a"])(new j.a(d)),w=Object(B["a"])(new j.a(f)),!(m in this.gameHistoryIds)){e.next=37;break}p=0;case 28:if(!(p<this.gameHistory.length)){e.next=35;break}if(this.gameHistory[p].id!==b){e.next=32;break}return this.gameHistory[p]={id:b,index:m,guess:g,randomnessResult:k,betAmount:v,winAmount:w,resolved:h},e.abrupt("break",35);case 32:p++,e.next=28;break;case 35:e.next=38;break;case 37:h?this.gameHistory.push({id:b,index:m,guess:g,randomnessResult:k,betAmount:v,winAmount:w,resolved:h}):this.gameHistory.unshift({id:b,index:m,guess:g,randomnessResult:k,betAmount:v,winAmount:w,resolved:h});case 38:this.gameHistoryIds[m]=h?1:0;case 39:c++,e.next=18;break;case 42:this.checkBlockChainLock=!1;case 43:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},watch:{walletAddress:function(e,t){var n,i=this;this.checkBlockChainLock=!1,e?(this.CheckBlockChain(),n=setInterval(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.CheckBlockChain());case 1:case"end":return e.stop()}}),e)}))),1e4)):clearInterval(n)}}});n("d095");M.render=y,M.__scopeId="data-v-3b9f1b78";var D=M,S=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(118.3 -38.25)">\n      <rect x="-118.3" y="38.25" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-109" cy="47.51" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),P=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(93.07 -41.32)">\n      <rect x="-93.07" y="41.32" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-79.17" cy="55.22" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-88.44" cy="45.94" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),N=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(114.5 -58.35)">\n      <rect x="-114.5" y="58.35" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-105.2" cy="67.61" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-100.6" cy="72.25" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-109.8" cy="62.98" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),R=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(139.7 -56.45)">\n      <rect x="-139.7" y="56.45" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-125.8" cy="70.35" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-135.1" cy="70.35" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-135.1" cy="61.07" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.8" cy="61.07" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),H=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(142.9 -80.47)">\n      <rect x="-142.9" y="80.47" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-133.7" cy="89.74" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-129" cy="94.37" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-138.3" cy="94.37" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-138.3" cy="85.1" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-129" cy="85.1" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '}),I=Object(i["k"])({template:'\n  <svg width="18.52mm" height="18.52mm" version="1.1" viewBox="0 0 18.52 18.52">\n    <g transform="translate(139.5 -100.6)">\n      <rect x="-139.5" y="100.6" width="18.52" height="18.52" ry="3.505" stroke-width=".2666"/>\n      <circle cx="-134.9" cy="109.8" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="109.8" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="114.5" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-134.9" cy="114.5" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-134.9" cy="105.2" r="1.976" fill="#fff" stroke-width=".3188"/>\n      <circle cx="-125.6" cy="105.2" r="1.976" fill="#fff" stroke-width=".3188"/>\n    </g>\n  </svg>\n  '});j.a.config({ROUNDING_MODE:j.a.ROUND_DOWN,EXPONENTIAL_AT:99});var U=Object(i["k"])({components:{MatButton:k["a"],GameHistory2:D,Dice1:S,Dice2:P,Dice3:N,Dice4:R,Dice5:H,Dice6:I},setup:function(){var e=Object(i["n"])("providerUser"),t=Object(i["n"])("signer"),n=Object(i["n"])("walletAddress"),r=Object(i["n"])("walletBalance"),c=Object(i["n"])("gameBalanceMatic"),a=Object(i["n"])("gameBalanceLink"),s=Object(i["n"])("gameMinimumBet"),o=Object(i["n"])("gameMaxWinAmount");return{providerUser:e,signer:t,walletAddress:n,walletBalance:r,gameBalanceMatic:c,gameBalanceLink:a,gameMinimumBet:s,gameMaxWinAmount:o}},data:function(){return{betAmount:"0.1",diceSides:{}}},created:function(){this.Randomize()},methods:{ToggleDice:function(e){e in this.diceSides?delete this.diceSides[e]:this.diceSides[e]=!0},Randomize:function(){var e=Math.floor(2*Math.random()),t=Math.floor(2*Math.random()),n=Math.floor(2*Math.random()),i=Math.floor(2*Math.random()),r=Math.floor(2*Math.random()),c=Math.floor(2*Math.random()),a=e+t+n+i+r+c;if(0===a||6===a){var s=Math.floor(6*Math.random());switch(s){case 0:e=e?0:1;break;case 1:t=t?0:1;break;case 2:n=n?0:1;break;case 3:i=i?0:1;break;case 4:r=r?0:1;break;case 5:c=c?0:1;break;default:break}}this.diceSides={},e&&(this.diceSides[1]=!0),t&&(this.diceSides[2]=!0),n&&(this.diceSides[3]=!0),i&&(this.diceSides[4]=!0),r&&(this.diceSides[5]=!0),c&&(this.diceSides[6]=!0)},BetAmountUpdated:function(){var e,t,n,i=null===(e=this.betAmount)||void 0===e?void 0:e.indexOf(".");-1!==i&&((null===(t=this.betAmount)||void 0===t?void 0:t.length)>i+3&&(this.betAmount=null===(n=this.betAmount)||void 0===n?void 0:n.substr(0,i+3)))},MakeBet:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,c,a,s,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.providerUser){e.next=2;break}return e.abrupt("return");case 2:if(!isNaN(this.betAmount)){e.next=4;break}return e.abrupt("return");case 4:if(this.betAmount){e.next=6;break}return e.abrupt("return");case 6:if(0!==Object.keys(this.diceSides).length){e.next=8;break}return e.abrupt("return");case 8:if(!(Object.keys(this.diceSides).length>=6)){e.next=10;break}return e.abrupt("return");case 10:if(t=new j.a(this.betAmount),n=new j.a(this.gameMinimumBet),i=new j.a(this.gameMaxWinAmount),!t.lt(n)){e.next=18;break}return alert("Bet too small"),e.abrupt("return");case 18:if(!t.multipliedBy(.98).gt(i)){e.next=21;break}return alert("Potential win amount is too large"),e.abrupt("return");case 21:for(o in r=t.toString(),c=b["a"].utils.parseUnits(r,"ether").toHexString(),a="0xf64d796e",s=0,this.diceSides)s|=Math.pow(2,parseInt(o)-1);return s=m["utils"].hexZeroPad("0x".concat(s.toString(16)),32).substring(2),l="".concat(a).concat(s),u=[{from:this.walletAddress,to:O["b"],value:c,data:l}],e.next=31,this.providerUser.send("eth_sendTransaction",u);case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{CalculateWinChance:function(){var e=Object.keys(this.diceSides).length;if(0===e||6===e)return"---";switch(e){case 1:return"16.6%";case 2:return"33%";case 3:return"50%";case 4:return"67%";case 5:return"83%";default:return"---"}},ProfitOnWin:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e,t=Object.keys(this.diceSides).length;if(0===t||6===t)return"---";switch(t){case 1:e=.166667;break;case 2:e=.333333;break;case 3:e=.5;break;case 4:e=.666667;break;case 5:e=.833333;break;default:return"---"}var n=new j.a(this.betAmount),i=new j.a(e),r=new j.a(.01),c=n.multipliedBy(r),a=n.minus(c),s=a.dividedBy(i),o=s.minus(n);return o.toString()},ProfitOnWinOld:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=new j.a(this.betAmount).multipliedBy(.98).toString();return e}}});n("7eee");U.render=f,U.__scopeId="data-v-5115c3f9";t["default"]=U},d095:function(e,t,n){"use strict";n("fdc0")},fdc0:function(e,t,n){}}]);