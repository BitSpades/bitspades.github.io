(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d2454d6"],{"1c11":function(e,t,n){e.exports=n.p+"img/coin-tails.d55cc75f.webp"},"20a5":function(e,t,n){},"2df0":function(e,t,n){e.exports=n.p+"img/coin-heads.4e21f77a.webp"},"39c4":function(e,t,n){"use strict";n("20a5")},"4bb1":function(e,t,n){"use strict";n("ef7e")},"74c7":function(e,t,n){"use strict";n("bf04")},bf04:function(e,t,n){},eb98:function(e,t,n){"use strict";n.r(t);var a=n("f2bf"),c=function(e){return Object(a["w"])("data-v-46f26068"),e=e(),Object(a["u"])(),e},r={class:"game-play"},s={class:"slide-container"},i=["min","max"],o=c((function(){return Object(a["g"])("div",{style:{margin:"8px 0"}},null,-1)})),u={class:"coins"},l={class:"svg-container"},b=c((function(){return Object(a["g"])("div",{style:{margin:"8px 0"}},null,-1)})),d=c((function(){return Object(a["g"])("div",null,"Win Chance: 50%",-1)})),m=c((function(){return Object(a["g"])("div",{style:{margin:"8px 0"}},null,-1)})),h=Object(a["i"])("Make Bet");function g(e,t,n,c,g,O){var j=Object(a["B"])("MatButton"),p=Object(a["B"])("GameHistory");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",r,[Object(a["g"])("div",s,[Object(a["K"])(Object(a["g"])("input",{class:"slider",type:"range",step:"0.01",min:e.gameMinimumBet,max:e.gameMaxWinAmount/.98-.01,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.betAmount=t})},null,8,i),[[a["H"],e.betAmount]])]),Object(a["K"])(Object(a["g"])("input",{style:{color:"black"},"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.betAmount=t}),placeholder:"Enter bet amount",onInput:t[2]||(t[2]=function(t){return e.BetAmountUpdated()})},null,544),[[a["H"],e.betAmount]]),o,Object(a["g"])("div",u,[Object(a["g"])("div",{class:Object(a["p"])(["coin-heads",["0"===e.gameChoice?"selected":"",e.hoverHeads?"hover":""]])},null,2),Object(a["g"])("div",{class:Object(a["p"])(["coin-tails",["1"===e.gameChoice?"selected":"",e.hoverTails?"hover":""]])},null,2),Object(a["g"])("div",l,[(Object(a["t"])(),Object(a["f"])("svg",null,[Object(a["g"])("circle",{cx:"50",cy:"50",r:"50",onMouseover:t[3]||(t[3]=Object(a["L"])((function(t){return e.hoverHeads=!0}),["stop"])),onMouseleave:t[4]||(t[4]=Object(a["L"])((function(t){return e.hoverHeads=!1}),["stop"])),onClick:t[5]||(t[5]=function(t){return e.gameChoice="0"})},null,32),Object(a["g"])("circle",{cx:"162",cy:"50",r:"50",onMouseover:t[6]||(t[6]=Object(a["L"])((function(t){return e.hoverTails=!0}),["stop"])),onMouseleave:t[7]||(t[7]=Object(a["L"])((function(t){return e.hoverTails=!1}),["stop"])),onClick:t[8]||(t[8]=function(t){return e.gameChoice="1"})},null,32)]))])]),b,d,Object(a["g"])("div",null,"Profit on win: "+Object(a["E"])(e.ProfitOnWin),1),m,Object(a["j"])(j,{h:"194",s:"95",l:"16",class:"btn",onClick:t[9]||(t[9]=function(t){return e.MakeBet()})},{default:Object(a["J"])((function(){return[h]})),_:1})]),Object(a["j"])(p)],64)}var O=n("1da1"),j=(n("96cf"),n("d3b7"),n("25f0"),n("99af"),n("c030")),p=n("6779"),f=n("901e"),v=n.n(f),k=n("4ee3"),y=function(e){return Object(a["w"])("data-v-3833019f"),e=e(),Object(a["u"])(),e},x={class:"game-history"},w=y((function(){return Object(a["g"])("div",null,"Game History",-1)})),A={class:"test-table no-select"},B=y((function(){return Object(a["g"])("tr",null,[Object(a["g"])("th",null,"Guess"),Object(a["g"])("th",null,"Result"),Object(a["g"])("th",null,"Bet Amount"),Object(a["g"])("th",null,"Winnings")],-1)})),H=["onClick"];function C(e,t,n,c,r,s){var i=Object(a["B"])("Modal");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["j"])(i,{open:e.modalOpen,game:e.modalGame},null,8,["open","game"]),Object(a["g"])("div",x,[w,Object(a["g"])("table",A,[B,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.gameHistory,(function(t){return Object(a["t"])(),Object(a["f"])("tr",{key:t,class:Object(a["p"])(t.resolved?t.guess===t.randomnessResult?"win":"lose":"pending"),onClick:function(n){return e.ShowDetails(t.id)}},[Object(a["g"])("td",null,Object(a["E"])(0===t.guess?"Heads":"Tails"),1),Object(a["g"])("td",null,Object(a["E"])(t.resolved?0===t.randomnessResult?"Heads":"Tails":"Pending"),1),Object(a["g"])("td",null,Object(a["E"])(t.betAmount),1),Object(a["g"])("td",null,Object(a["E"])(t.resolved?t.winAmount:"Pending"),1)],10,H)})),128))])])],64)}var S=n("3835"),M=(n("d81d"),n("bc3a")),L=n.n(M),N=n("2df0"),E=n.n(N),I=n("1c11"),R=n.n(I),G=function(e){return Object(a["w"])("data-v-55f25172"),e=e(),Object(a["u"])(),e},T={class:"header"},U={class:"result"},P={class:"icon"},_={class:"id"},D={class:"date"},W={class:"tooltip"},z={class:"tooltiptext"},V={class:"guess"},X={class:"left"},Z=G((function(){return Object(a["g"])("div",{class:"top"},"Guess",-1)})),J={class:"bot"},K={key:0,src:E.a,style:{width:"100px"}},Y={key:1,src:R.a,style:{width:"100px"}},q={class:"right"},F=G((function(){return Object(a["g"])("div",{class:"top"},"Result",-1)})),Q={class:"bot"},$={key:0,src:E.a,style:{width:"100px"}},ee={key:1,src:R.a,style:{width:"100px"}},te={class:"amounts"},ne={class:"a"},ae=G((function(){return Object(a["g"])("div",{class:"a1"},"Amount Bet",-1)})),ce={class:"a2"},re={class:"b"},se=G((function(){return Object(a["g"])("div",{class:"b1"},"Amount Won",-1)})),ie={class:"b2"},oe={class:"transaction"},ue=["href"];function le(e,t,n,c,r,s){var i=Object(a["B"])("TrophySVG"),o=Object(a["B"])("RedXSVG"),u=Object(a["B"])("LoadingSVG"),l=Object(a["B"])("ExternalLink");return Object(a["t"])(),Object(a["f"])("div",{class:Object(a["p"])(["modal",e.open?"open":"closed"])},[Object(a["g"])("div",{class:"overlay",onClick:t[0]||(t[0]=function(t){e.open=!1})}),Object(a["g"])("div",{class:Object(a["p"])(["container",e.game.resolved?e.game.winAmount>0?"green":"red":"gray"])},[Object(a["g"])("div",T,[Object(a["g"])("div",U,Object(a["E"])(e.game.resolved?e.game.winAmount>0?"WIN":"LOSE":"PENDING"),1),Object(a["g"])("div",P,[e.game.resolved&&"0"!==e.game.winAmount?(Object(a["t"])(),Object(a["d"])(i,{key:0})):e.game.resolved&&"0"===e.game.winAmount?(Object(a["t"])(),Object(a["d"])(o,{key:1})):(Object(a["t"])(),Object(a["d"])(u,{key:2}))]),Object(a["g"])("div",_," #"+Object(a["E"])(e.game.index),1)]),Object(a["g"])("div",D,[Object(a["g"])("div",W,[Object(a["i"])(Object(a["E"])(e.ComputeDate)+" ",1),Object(a["g"])("span",z,Object(a["E"])(e.ComputeUTC),1)])]),Object(a["g"])("div",V,[Object(a["g"])("div",X,[Z,Object(a["g"])("div",J,[0===e.game.guess?(Object(a["t"])(),Object(a["f"])("img",K)):(Object(a["t"])(),Object(a["f"])("img",Y))])]),Object(a["g"])("div",q,[F,Object(a["g"])("div",Q,[0===e.game.randomnessResult?(Object(a["t"])(),Object(a["f"])("img",$)):(Object(a["t"])(),Object(a["f"])("img",ee))])])]),Object(a["g"])("div",te,[Object(a["g"])("div",ne,[ae,Object(a["g"])("div",ce,Object(a["E"])(e.game.betAmount),1)]),Object(a["g"])("div",re,[se,Object(a["g"])("div",ie,Object(a["E"])(e.game.winAmount),1)])]),Object(a["g"])("div",oe,[Object(a["g"])("a",{class:"tx-hash",href:"https://mumbai.polygonscan.com/tx/"+e.game.transactionHash,target:"_blank",rel:"noreferrer"},[Object(a["i"])(Object(a["E"])(e.ShorthandTxHash),1),Object(a["j"])(l)],8,ue)])],2)],2)}var be={viewBox:"0 0 16.5 16.5",style:{height:"14px","padding-left":"4px"}},de=Object(a["g"])("g",{class:"icon_svg-stroke",transform:"translate(-4.25,-3.75)",fill:"none","fill-rule":"evenodd",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[Object(a["g"])("polyline",{points:"17 13.5 17 19.5 5 19.5 5 7.5 11 7.5"}),Object(a["g"])("path",{d:"m14 4.5h6v6m0-6-9 9"})],-1),me=[de];function he(e,t,n,c,r,s){return Object(a["t"])(),Object(a["f"])("svg",be,me)}var ge=Object(a["k"])({}),Oe=n("6b0d"),je=n.n(Oe);const pe=je()(ge,[["render",he]]);var fe=pe,ve={viewBox:"0 0 1050 1049"},ke=Object(a["h"])('<rect x="1303" y="708.8" width="1300" height="1300" fill="none"></rect><g fill-rule="evenodd"><path d="m618 429v-43.65c195.2 0 353.2-87.3 386.1-211.7 15.36-58.93-21.94-98.22-65.81-111.3-43.88-13.1-94.33 0-114.1 56.75-4.388 10.91-6.581 21.83-8.775 32.74l-43.88-8.73c2.194-13.1 6.581-26.19 8.775-37.1 28.52-82.94 107.5-102.6 168.9-85.12 63.62 19.64 116.3 80.76 96.53 163.7-35.1 144.1-212.8 244.4-427.8 244.4z" fill="#f8b64c"></path><path d="m433 431v-43.76c-194.4 0-351.7-87.52-384.4-212.2-15.29-59.07 21.84-98.46 65.53-111.6 43.68-13.13 93.92 0 113.6 56.89 4.368 10.94 6.553 21.88 8.737 32.82l43.68-8.752c-2.184-13.13-6.553-26.26-8.737-37.19-30.58-83.14-109.2-102.8-170.4-83.14-63.34 17.5-117.9 80.95-96.1 164.1 37.13 142.2 214.1 242.9 428.1 242.9z" fill="#f8b64c"></path><path d="m726.9 812h-402.9c-30.66 0-56.94 26.33-56.94 57.06v179.9h519v-179.9c0-32.92-26.28-57.06-59.13-57.06z" fill="#40596b"></path><path d="m706 815h-359c85.37-24.1 144.5-103 144.5-192.8v-94.21h67.86v94.21c2.189 89.82 61.29 168.7 146.7 192.8z" fill="#ffd15c"></path><path d="m145 0c0 323 381 587 381 587s381-264 381-587z" fill="#ffd15c"></path><ellipse cx="527.5" cy="593" rx="89.5" ry="90" fill="#ffd15c"></ellipse><path d="m618.7 481h-185.6c-17.47 0-30.57 13.09-30.57 30.55v6.545c0 17.45 13.1 30.55 30.57 30.55h185.6c17.47 0 30.57-13.09 30.57-30.55v-6.545c0-17.45-13.1-30.55-30.57-30.55z" fill="#f8b64c"></path><path d="m601.2 651.2h-135.4c-17.47 0-30.57 13.09-30.57 30.55v6.545c0 17.45 13.1 30.55 30.57 30.55h135.4c17.47 0 30.57-13.09 30.57-30.55v-6.545c0-17.45-15.28-30.55-30.57-30.55z" fill="#f8b64c"></path></g>',2),ye=[ke];function xe(e,t,n,c,r,s){return Object(a["t"])(),Object(a["f"])("svg",ve,ye)}var we=Object(a["k"])({});const Ae=je()(we,[["render",xe]]);var Be=Ae,He={viewBox:"0 0 100 100"},Ce=Object(a["g"])("g",{fill:"none",stroke:"#f00"},[Object(a["g"])("path",{d:"m6.39 6.42 87.19 87.19","stroke-width":"18.05"}),Object(a["g"])("path",{d:"m6.389 93.61 87.44-87.19","stroke-width":"17.8"})],-1),Se=[Ce];function Me(e,t,n,c,r,s){return Object(a["t"])(),Object(a["f"])("svg",He,Se)}var Le=Object(a["k"])({});const Ne=je()(Le,[["render",Me]]);var Ee=Ne,Ie={style:{margin:"auto",background:"none",display:"block","shape-rendering":"auto"},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Re=Object(a["g"])("circle",{cx:"50",cy:"50",fill:"none",stroke:"#0c95b1","stroke-width":"15",r:"36","stroke-dasharray":"169.64600329384882 58.548667764616276"},[Object(a["g"])("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})],-1),Ge=[Re];function Te(e,t,n,c,r,s){return Object(a["t"])(),Object(a["f"])("svg",Ie,Ge)}var Ue=Object(a["k"])({});const Pe=je()(Ue,[["render",Te]]);var _e=Pe,De=n("b166"),We=Object(a["k"])({components:{ExternalLink:fe,TrophySVG:Be,RedXSVG:Ee,LoadingSVG:_e},props:{game:{required:!0,type:Object}},setup:function(){var e=Object(a["n"])("modalOpen");return{open:e}},computed:{ComputeDate:function(){return void 0===this.game.timeStamp?"0":Object(De["a"])(1e3*parseInt(this.game.timeStamp),"LLL d, H:m")},ComputeUTC:function(){return void 0===this.game.timeStamp?"0":Object(De["a"])(1e3*parseInt(this.game.timeStamp),"yyyy-MM-dd'T'H:mm:ss'Z'")},ShorthandTxHash:function(){if(void 0===this.game.transactionHash)return"0";var e=this.game.transactionHash.substr(0,12),t=this.game.transactionHash.substr(-10);return"".concat(e,"...").concat(t)},URL:function(){}}});n("74c7");const ze=je()(We,[["render",le],["__scopeId","data-v-55f25172"]]);var Ve=ze,Xe=n("315c"),Ze=n("f168"),Je=n("2847");v.a.config({ROUNDING_MODE:v.a.ROUND_DOWN,EXPONENTIAL_AT:99});var Ke=Object(a["k"])({components:{Modal:Ve},setup:function(){var e=Object(a["n"])("providerUser"),t=Object(a["n"])("walletAddress"),n=Object(a["n"])("contractCasino"),c=Object(a["y"])(!1);return Object(a["v"])("modalOpen",c),{providerUser:e,walletAddress:t,contractCasino:n,modalOpen:c}},data:function(){return{gameHistory:[],gameHistoryIds:{},checkBlockChainLock:!1,gamesPlayedPrevious:0,modalOpen:!1,modalGame:{}}},methods:{CheckBlockChain:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,r,s,i,o,u,l,b,d,m,h,g,O,j,f,k,y,x,w,A,B,H,C,M,N,E,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkBlockChainLock){e.next=54;break}if(this.checkBlockChainLock=!0,!this.walletAddress){e.next=53;break}return t="0x2ac9b956ee3801659c7fd0967e29ac681f75def174c4953f92eede0a4a311576",n=p["utils"].hexZeroPad(Je["c"],32),a=p["utils"].hexZeroPad(this.walletAddress,32),c="https://api-testnet.polygonscan.com/api?module=logs&action=getLogs&fromBlock=0"+"&address=".concat(Je["a"])+"&topic0=".concat(t)+"&topic1=".concat(n)+"&topic2=".concat(a)+"&apikey=YourApiKeyToken",e.next=9,L.a.get(c);case 9:return r=e.sent,s=r.data.result.map((function(e){var t=e.topics,n=e.timeStamp,a=e.transactionHash;return{localId:new v.a(t[3],16).toString(),timeStamp:new v.a(n,16).toString(),transactionHash:a}})).reduce((function(e,t){return e[t.localId]={timeStamp:t.timeStamp,transactionHash:t.transactionHash},e}),{}),e.next=13,Object(Ze["a"])(this.providerUser,[{target:Je["c"],func:"GetPlayerGamesCount",data:[this.walletAddress]}]);case 13:if(i=e.sent,o=new v.a(i[0],16).toNumber(),o!==this.gamesPlayedPrevious){e.next=20;break}return this.checkBlockChainLock=!1,e.abrupt("return");case 20:this.gamesPlayedPrevious=o;case 21:for(u=[],l=[],b=o-1;b>=0;b--)b in this.gameHistoryIds&&0!==this.gameHistoryIds[b]||(l.push(b),u.push({target:Je["c"],func:"GetGameLocal",data:[this.walletAddress,b]}));return e.next=26,Object(Ze["a"])(this.providerUser,u);case 26:d=e.sent,m=0;case 28:if(!(m<d.length)){e.next=53;break}if(h=Object(S["a"])(d[m],7),g=h[0],O=h[1],j=h[3],f=h[4],k=h[5],y=h[6],x=g.toNumber(),w=l[m],A=O.toNumber(),B=j.toNumber(),H=Object(Xe["a"])(f),C=Object(Xe["a"])(k),M=s[w],N=M.timeStamp,E=M.transactionHash,!(w in this.gameHistoryIds)){e.next=48;break}I=0;case 39:if(!(I<this.gameHistory.length)){e.next=46;break}if(this.gameHistory[I].id!==x){e.next=43;break}return this.gameHistory[I]={id:x,index:w,guess:A,randomnessResult:B,betAmount:H,winAmount:C,resolved:y,timeStamp:N,transactionHash:E},e.abrupt("break",46);case 43:I++,e.next=39;break;case 46:e.next=49;break;case 48:y?this.gameHistory.push({id:x,index:w,guess:A,randomnessResult:B,betAmount:H,winAmount:C,resolved:y,timeStamp:N,transactionHash:E}):this.gameHistory.unshift({id:x,index:w,guess:A,randomnessResult:B,betAmount:H,winAmount:C,resolved:y,timeStamp:N,transactionHash:E});case 49:this.gameHistoryIds[w]=y?1:0;case 50:m++,e.next=28;break;case 53:this.checkBlockChainLock=!1;case 54:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ShowDetails:function(e){this.modalGame=this.gameHistory[e],this.modalOpen=!0}},watch:{walletAddress:function(e,t){var n,a=this;this.checkBlockChainLock=!1,e?(this.CheckBlockChain(),n=setInterval(Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.CheckBlockChain());case 1:case"end":return e.stop()}}),e)}))),1e4)):clearInterval(n)}}});n("39c4");const Ye=je()(Ke,[["render",C],["__scopeId","data-v-3833019f"]]);var qe=Ye;v.a.config({ROUNDING_MODE:v.a.ROUND_DOWN,EXPONENTIAL_AT:99});var Fe=Object(a["k"])({components:{MatButton:k["a"],GameHistory:qe},props:{},setup:function(){var e=Object(a["n"])("providerUser"),t=Object(a["n"])("signer"),n=Object(a["n"])("walletAddress"),c=Object(a["n"])("walletBalance"),r=Object(a["n"])("gameBalanceMatic"),s=Object(a["n"])("gameBalanceLink"),i=Object(a["n"])("gameMinimumBet"),o=Object(a["n"])("gameMaxWinAmount");return{providerUser:e,signer:t,walletAddress:n,walletBalance:c,gameBalanceMatic:r,gameBalanceLink:s,gameMinimumBet:i,gameMaxWinAmount:o}},data:function(){return{betAmount:"0.1",gameChoice:"",hoverHeads:!1,hoverTails:!1,gameHistory:[],gameHistoryIds:{},checkBlockChainLock:!1}},methods:{BetAmountUpdated:function(){var e,t,n,a=null===(e=this.betAmount)||void 0===e?void 0:e.indexOf(".");-1!==a&&((null===(t=this.betAmount)||void 0===t?void 0:t.length)>a+3&&(this.betAmount=null===(n=this.betAmount)||void 0===n?void 0:n.substr(0,a+3)))},MakeBet:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,r,s,i,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.providerUser){e.next=2;break}return e.abrupt("return");case 2:if(!isNaN(this.betAmount)){e.next=4;break}return e.abrupt("return");case 4:if(this.betAmount){e.next=6;break}return e.abrupt("return");case 6:if(t=new v.a(this.betAmount),n=new v.a(this.gameMinimumBet),a=new v.a(this.gameMaxWinAmount),!t.lt(n)){e.next=14;break}return alert("Bet too small"),e.abrupt("return");case 14:if(!t.multipliedBy(.98).gt(a)){e.next=17;break}return alert("Potential win amount is too large"),e.abrupt("return");case 17:c=t.toString(),r=j["a"].utils.parseUnits(c,"ether").toHexString(),s="0x676d7089",i=p["utils"].hexZeroPad(Je["c"],32).substring(2),e.t0=this.gameChoice,e.next="0"===e.t0?24:"1"===e.t0?26:28;break;case 24:return o="0000000000000000000000000000000000000000000000000000000000000000",e.abrupt("break",31);case 26:return o="0000000000000000000000000000000000000000000000000000000000000001",e.abrupt("break",31);case 28:return alert("You must select heads or tails"),e.abrupt("return");case 31:return u="".concat(s).concat(i).concat(o),l=[{from:this.walletAddress,to:Je["a"],value:r,data:u}],e.next=35,this.providerUser.send("eth_sendTransaction",l);case 35:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{ProfitOnWin:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=new v.a(this.betAmount).multipliedBy(.98).toString();return e}}});n("4bb1");const Qe=je()(Fe,[["render",g],["__scopeId","data-v-46f26068"]]);t["default"]=Qe},ef7e:function(e,t,n){}}]);