(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df673ffc"],{"5e29":function(e,t,o){},"65a9":function(e,t,o){"use strict";var a=o("f2bf"),c=function(e){return Object(a["x"])("data-v-03a64438"),e=e(),Object(a["v"])(),e},l={class:"game-history"},n=c((function(){return Object(a["h"])("tr",null,[Object(a["h"])("th",null,"Guess"),Object(a["h"])("th",null,"Result"),Object(a["h"])("th",null,"Bet Amount"),Object(a["h"])("th",null,"Winnings")],-1)})),s=["onClick"],i=Object(a["j"])("Pending"),r=Object(a["j"])("Pending"),u=Object(a["j"])("Pending");function d(e,t,o,c,d,h){var m=Object(a["C"])("Modal");return Object(a["u"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(m,{open:e.modalOpen,game:e.modalGame},null,8,["open","game"]),Object(a["h"])("div",l,[Object(a["h"])("table",{class:"table no-select",onScroll:t[0]||(t[0]=function(){return e.CheckScroll&&e.CheckScroll.apply(e,arguments)})},[n,(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.gameHistory,(function(t){return Object(a["u"])(),Object(a["g"])("tr",{key:t,class:Object(a["q"])(e.localIdToTx[t].resolved?"0"!==e.localIdToTx[t].winAmount?"win":"lose":"pending"),onClick:function(o){return e.ShowDetails(e.localIdToTx[t].index)}},["coins"===e.game?(Object(a["u"])(),Object(a["g"])(a["a"],{key:0},[Object(a["h"])("td",null,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.ParseNumToCoin(e.localIdToTx[t].guess),(function(e){return Object(a["u"])(),Object(a["e"])(Object(a["D"])(e),{key:e,"mark-raw":""})})),128))]),Object(a["h"])("td",null,[e.localIdToTx[t].resolved?(Object(a["u"])(!0),Object(a["g"])(a["a"],{key:0},Object(a["A"])(e.ParseNumToCoinResolved(e.localIdToTx[t].randomnessResult),(function(e){return Object(a["u"])(),Object(a["e"])(Object(a["D"])(e),{key:e,"mark-raw":""})})),128)):(Object(a["u"])(),Object(a["g"])(a["a"],{key:1},[i],64))])],64)):"dice"===e.game?(Object(a["u"])(),Object(a["g"])(a["a"],{key:1},[Object(a["h"])("td",null,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.ParseNumToDice(e.localIdToTx[t].guess),(function(e){return Object(a["u"])(),Object(a["e"])(Object(a["D"])(e),{key:e,"mark-raw":""})})),128))]),Object(a["h"])("td",null,[e.localIdToTx[t].resolved?(Object(a["u"])(),Object(a["e"])(Object(a["D"])(e.ParseNumToDiceResolved(e.localIdToTx[t].randomnessResult)),{key:0,"mark-raw":""})):(Object(a["u"])(),Object(a["g"])(a["a"],{key:1},[r],64))])],64)):"roulette"===e.game?(Object(a["u"])(),Object(a["g"])(a["a"],{key:2},[Object(a["h"])("td",null,[(Object(a["u"])(!0),Object(a["g"])(a["a"],null,Object(a["A"])(e.ParseNumToRoulette(e.localIdToTx[t].guess),(function(e){return Object(a["u"])(),Object(a["e"])(Object(a["D"])(e),{key:e,"mark-raw":""})})),128))]),Object(a["h"])("td",null,[e.localIdToTx[t].resolved?(Object(a["u"])(),Object(a["e"])(Object(a["D"])(e.ParseNumToRouletteResolved(e.localIdToTx[t].randomnessResult)),{key:0,"mark-raw":""})):(Object(a["u"])(),Object(a["g"])(a["a"],{key:1},[u],64))])],64)):Object(a["f"])("",!0),Object(a["h"])("td",null,Object(a["F"])(e.localIdToTx[t].betAmount),1),Object(a["h"])("td",null,Object(a["F"])(e.localIdToTx[t].resolved?e.localIdToTx[t].winAmount:"Pending"),1)],10,s)})),128))],32)])],64)}var h=o("3835"),m=o("1da1"),b=(o("96cf"),o("aff56"),o("a9e3"),o("d3b7"),o("d81d"),o("25f0"),o("6779")),O=o("901e"),j=o.n(O),g=o("bc3a"),T=o.n(g),k=o("aff5"),p=o("315c"),f=o("f168"),R=o("4ee3"),I=o("2847"),v=o("617e"),w=o("505f"),N=o("a9ef"),y=o("85ee");j.a.config({ROUNDING_MODE:j.a.ROUND_DOWN,EXPONENTIAL_AT:99});var x=1e4,D=6,P=37,A=Object(a["l"])({components:{Modal:k["a"],Heads:v["a"],Tails:v["b"],Dice1:w["a"],Dice2:w["b"],Dice3:w["c"],Dice4:w["d"],Dice5:w["e"],Dice6:w["f"],Roulette0:N["a"],Roulette1:N["b"],Roulette2:N["m"],Roulette3:N["x"],Roulette4:N["F"],Roulette5:N["G"],Roulette6:N["H"],Roulette7:N["I"],Roulette8:N["J"],Roulette9:N["K"],Roulette10:N["c"],Roulette11:N["d"],Roulette12:N["e"],Roulette13:N["f"],Roulette14:N["g"],Roulette15:N["h"],Roulette16:N["i"],Roulette17:N["j"],Roulette18:N["k"],Roulette19:N["l"],Roulette20:N["n"],Roulette21:N["o"],Roulette22:N["p"],Roulette23:N["q"],Roulette24:N["r"],Roulette25:N["s"],Roulette26:N["t"],Roulette27:N["u"],Roulette28:N["v"],Roulette29:N["w"],Roulette30:N["y"],Roulette31:N["z"],Roulette32:N["A"],Roulette33:N["B"],Roulette34:N["C"],Roulette35:N["D"],Roulette36:N["E"],MatButton:R["a"]},props:{game:{required:!0,type:String},contract:{required:!0,type:String}},setup:function(){var e=Object(a["o"])("providerUser"),t=Object(a["o"])("walletAddress"),o=Object(a["o"])("contractCasino"),c=Object(a["z"])(!1);return Object(a["w"])("modalOpen",c),{providerUser:e,walletAddress:t,contractCasino:o,modalOpen:c}},data:function(){return{gameHistory:[],gameHistoryIds:{},checkBlockChainLock:!1,gamesPlayedPrevious:0,modalGame:{},blockOldest:null,blockNewest:null,localIdToTx:{},latestBlockNumber:0,modalId:-1,toBlock:Number.MAX_SAFE_INTEGER,timer:null,loadingMoreGames:!1}},watch:{walletAddress:function(e){var t=this;this.checkBlockChainLock=!1,e?(this.InitialCheck(),this.timer=setInterval((function(){return t.InitialCheck()}),x)):(clearInterval(this.timer),this.gameHistory=[],this.gameHistoryIds={},this.checkBlockChainLock=!1,this.gamesPlayedPrevious=0,this.modalGame={},this.blockOldest=null,this.blockNewest=null,this.localIdToTx={},this.latestBlockNumber=0,this.modalId=-1,this.toBlock=Number.MAX_SAFE_INTEGER)}},created:function(){var e=this;this.walletAddress&&(this.InitialCheck(),this.timer=setInterval((function(){return e.InitialCheck()}),x))},methods:{InitialCheck:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,o,a,c,l,n,s,i,r,u,d,m,O,g,k,R,v,w,N,x,D,P,A,C,G=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=G.length>0&&void 0!==G[0]&&G[0],o=t,a="0x2ac9b956ee3801659c7fd0967e29ac681f75def174c4953f92eede0a4a311576",c=b["utils"].hexZeroPad(this.contract,32),l=b["utils"].hexZeroPad(this.walletAddress,32),n=!1===t?"https://api-testnet.polygonscan.com/api?module=logs&action=getLogs"+"&address=".concat(I["a"])+"&topic0=".concat(a)+"&topic1=".concat(c)+"&topic2=".concat(l)+"&apikey=YourApiKeyToken":"https://api-testnet.polygonscan.com/api?module=logs&action=getLogs"+"&toBlock=".concat(this.toBlock)+"&address=".concat(I["a"])+"&topic0=".concat(a)+"&topic1=".concat(c)+"&topic2=".concat(l)+"&apikey=YourApiKeyToken",e.next=8,T.a.get(n);case 8:if(s=e.sent,i=s.data.result.map((function(e){var t=e.topics,o=e.timeStamp,a=e.blockNumber,c=e.transactionHash;return{localId:new j.a(t[3],16).toString(),timeStamp:new j.a(o,16).toString(),blockNumber:new j.a(a,16).toString(),transactionHash:c}})).reduce((function(e,t){return e[t.localId]={timeStamp:t.timeStamp,blockNumber:t.blockNumber,transactionHash:t.transactionHash},e}),{}),this.localIdToTx=Object.assign(i,this.localIdToTx),r=s.data.result.length,0!==r){e.next=14;break}return e.abrupt("return");case 14:u=[],d=t?y["c"]+1:y["c"];while(r>0&&d>0)m=new j.a(s.data.result[r-1].topics[3],16).toNumber(),m in this.gameHistoryIds&&0!==this.gameHistoryIds[m]||u.push({target:this.contract,func:"GetGameLocal",data:[this.walletAddress,m]}),r--,d--;return e.next=19,Object(f["a"])(this.providerUser,u);case 19:for(O=e.sent,g=0;g<O.length;g++)k=Object(h["a"])(O[g],8),R=k[0],v=k[1],w=k[2],N=k[4],x=k[5],D=k[6],P=k[7],A=v.toNumber(),C=i[A].blockNumber,this.toBlock>C&&(this.toBlock=C),this.localIdToTx[A]={id:R.toNumber(),index:A,guess:w.toNumber(),randomnessResult:N.toNumber(),betAmount:Object(p["a"])(x),winAmount:Object(p["a"])(D),resolved:P,timeStamp:this.localIdToTx[A].timeStamp,transactionHash:this.localIdToTx[A].transactionHash},A in this.gameHistoryIds||(P?this.gameHistory.push(A):this.gameHistory.unshift(A)),this.gameHistoryIds[A]=P?1:0;-1!==this.modalId&&(this.modalGame=this.localIdToTx[this.modalId]),o&&(this.loadingMoreGames=!1);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ShowDetails:function(e){this.modalId=e,this.modalGame=this.localIdToTx[e],"coins"===this.game?(this.modalGame.test1=this.ParseNumToCoin(this.modalGame.guess),this.modalGame.test2=this.ParseNumToCoin(this.modalGame.randomnessResult)[0]):"dice"===this.game&&(this.modalGame.test1=this.ParseNumToDice(this.modalGame.guess),this.modalGame.test2=this.ParseNumToDiceResolved(this.modalGame.randomnessResult)),this.modalOpen=!0},CheckScroll:function(e){e.target.offsetHeight+e.target.scrollTop>=e.target.scrollHeight&&!1===this.loadingMoreGames&&(this.loadingMoreGames=!0,this.InitialCheck(!0))},ParseNumToCoin:function(e){return 0===e?["Heads"]:["Tails"]},ParseNumToCoinResolved:function(e){return 0===e?["Heads"]:["Tails"]},ParseNumToDice:function(e){for(var t=[],o=1;o<=D;o++)e&Math.pow(2,o-1)&&t.push("Dice".concat(o));return t},ParseNumToDiceResolved:function(e){for(var t=1;t<=D;t++)if(e&Math.pow(2,t-1))return"Dice".concat(t);return null},ParseNumToRoulette:function(e){for(var t=[],o=0;o<=P;o++)e&Math.pow(2,o)&&t.push("Roulette".concat(o));return t},ParseNumToRouletteResolved:function(e){for(var t=0;t<=P;t++)if(console.log(Math.pow(2,t)),e===Math.pow(2,t))return"Roulette".concat(t);return null}}}),C=(o("949e"),o("6b0d")),G=o.n(C);const H=G()(A,[["render",d],["__scopeId","data-v-03a64438"]]);t["a"]=H},"949e":function(e,t,o){"use strict";o("5e29")}}]);