(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-987e6b3e"],{2745:function(e,t,n){"use strict";n("4349")},4349:function(e,t,n){},"5c61":function(e,t,n){},"78b9":function(e,t,n){"use strict";n("5c61")},c5e5:function(e,t,n){"use strict";n.r(t);var i=n("f2bf"),r={class:"game-play"},a={class:"playing-table"},c={class:"felt-background"},s={class:"dice"},o=Object(i["j"])("Randomize");function u(e,t,n,u,l,d){var b=Object(i["C"])("Dice1"),h=Object(i["C"])("Dice2"),m=Object(i["C"])("Dice3"),f=Object(i["C"])("Dice4"),g=Object(i["C"])("Dice5"),O=Object(i["C"])("Dice6"),j=Object(i["C"])("MatButton"),p=Object(i["C"])("BettingControls"),v=Object(i["C"])("GameHistory");return Object(i["u"])(),Object(i["g"])(i["a"],null,[Object(i["h"])("div",r,[Object(i["h"])("div",a,[Object(i["h"])("div",c,[Object(i["h"])("div",s,[Object(i["k"])(b,{class:Object(i["q"])(1 in e.diceSides?"active":""),onClick:t[0]||(t[0]=function(t){return e.ToggleDice(1)})},null,8,["class"]),Object(i["k"])(h,{class:Object(i["q"])(2 in e.diceSides?"active":""),onClick:t[1]||(t[1]=function(t){return e.ToggleDice(2)})},null,8,["class"]),Object(i["k"])(m,{class:Object(i["q"])(3 in e.diceSides?"active":""),onClick:t[2]||(t[2]=function(t){return e.ToggleDice(3)})},null,8,["class"]),Object(i["k"])(f,{class:Object(i["q"])(4 in e.diceSides?"active":""),onClick:t[3]||(t[3]=function(t){return e.ToggleDice(4)})},null,8,["class"]),Object(i["k"])(g,{class:Object(i["q"])(5 in e.diceSides?"active":""),onClick:t[4]||(t[4]=function(t){return e.ToggleDice(5)})},null,8,["class"]),Object(i["k"])(O,{class:Object(i["q"])(6 in e.diceSides?"active":""),onClick:t[5]||(t[5]=function(t){return e.ToggleDice(6)})},null,8,["class"])]),Object(i["k"])(j,{h:"194",s:"95",l:"16",class:"btn",onClick:t[6]||(t[6]=function(t){return e.Randomize()})},{default:Object(i["K"])((function(){return[o]})),_:1})])]),Object(i["k"])(p,{"dice-sides":e.diceSides},null,8,["dice-sides"])]),Object(i["k"])(v,{game:"dice",contract:e.GAME_DICE_ADDRESS},null,8,["contract"])],64)}var l=n("1da1"),d=(n("96cf"),n("b64b"),n("b680"),n("d3b7"),n("25f0"),n("99af"),n("c030")),b=n("6779"),h=n("901e"),m=n.n(h),f=n("4ee3"),g=n("65a9"),O=function(e){return Object(i["x"])("data-v-14c40ed7"),e=e(),Object(i["v"])(),e},j={class:"controls"},p={class:"slide-container"},v=["min","max"],k=O((function(){return Object(i["h"])("div",{style:{margin:"8px 0"}},null,-1)})),A=Object(i["j"])("Make Bet");function M(e,t,n,r,a,c){var s=Object(i["C"])("MatButton");return Object(i["u"])(),Object(i["g"])("div",j,[Object(i["h"])("div",p,[Object(i["h"])("label",null,[Object(i["L"])(Object(i["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.betAmount=t}),class:"slider",type:"range",step:"0.01",min:e.gameMinimumBet,max:e.gameMaxWinAmount/.98-.01},null,8,v),[[i["I"],e.betAmount]])])]),Object(i["L"])(Object(i["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.betAmount=t}),style:{color:"black"},placeholder:"Enter bet amount",onInput:t[2]||(t[2]=function(t){return e.BetAmountUpdated()})},null,544),[[i["I"],e.betAmount]]),Object(i["h"])("div",null,"Profit on win: "+Object(i["F"])(e.ProfitOnWin),1),k,Object(i["k"])(s,{h:"194",s:"95",l:"16",class:"btn",onClick:t[3]||(t[3]=function(t){return e.MakeBet()})},{default:Object(i["K"])((function(){return[A]})),_:1})])}var x=n("df85"),w=n("2847");m.a.config({ROUNDING_MODE:m.a.ROUND_DOWN,EXPONENTIAL_AT:99});var S=1,B=5,D=6,y=.01,C=.98,N=Object(i["l"])({components:{MatButton:f["a"]},props:{diceSides:{required:!0,type:Object}},setup:function(){var e=Object(i["o"])("providerUser"),t=Object(i["o"])("signer"),n=Object(i["o"])("walletAddress"),r=Object(i["o"])("walletBalance"),a=Object(i["o"])("gameBalanceMatic"),c=Object(i["o"])("gameBalanceLink"),s=Object(i["o"])("gameMinimumBet"),o=Object(i["o"])("gameMaxWinAmount"),u=Object(x["a"])(),l=u.cookies;return{providerUser:e,signer:t,walletAddress:n,walletBalance:r,gameBalanceMatic:a,gameBalanceLink:c,gameMinimumBet:s,gameMaxWinAmount:o,GAME_DICE_ADDRESS:w["b"],cookies:l}},data:function(){return{betAmount:"0.1"}},computed:{CalculateWinChance:function(){var e=Object.keys(this.diceSides).length;if(e>=S&&e<=B){var t=(e/D*100).toFixed(2);while("0"===t[t.length-1])t=t.substring(0,t.length-1);return"."===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+="%",t}return"---"},ProfitOnWin:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=Object.keys(this.diceSides).length;if(e<=0||e>=D)return"---";var t=e/D,n=new m.a(this.betAmount),i=new m.a(t),r=new m.a(y),a=n.multipliedBy(r),c=n.minus(a),s=c.dividedBy(i),o=s.minus(n);return o.toString()},ProfitOnWinOld:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=new m.a(this.betAmount).multipliedBy(C).toString();return e}},created:function(){},methods:{BetAmountUpdated:function(){var e,t,n,i=null===(e=this.betAmount)||void 0===e?void 0:e.indexOf(".");-1!==i&&((null===(t=this.betAmount)||void 0===t?void 0:t.length)>i+3&&(this.betAmount=null===(n=this.betAmount)||void 0===n?void 0:n.substr(0,i+3)))},MakeBet:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,c,s,o,u,l,h,f,g,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.betAmount){e.next=2;break}return e.abrupt("return");case 2:if(this.providerUser){e.next=4;break}return e.abrupt("return");case 4:if(!isNaN(this.betAmount)){e.next=6;break}return e.abrupt("return");case 6:if(0!==Object.keys(this.diceSides).length){e.next=8;break}return e.abrupt("return");case 8:if(!(Object.keys(this.diceSides).length>=D)){e.next=10;break}return e.abrupt("return");case 10:if(t=new m.a(this.betAmount),n=new m.a(this.gameMinimumBet),i=new m.a(this.gameMaxWinAmount),!t.lt(n)){e.next=18;break}return alert("Bet too small"),e.abrupt("return");case 18:if(!t.multipliedBy(C).gt(i)){e.next=21;break}return alert("Potential win amount is too large"),e.abrupt("return");case 21:for(u in r=t.toString(),a=d["a"].utils.parseUnits(r,"ether").toHexString(),c="0x601886c0",s=b["utils"].hexZeroPad(w["b"],32).substring(2),o=0,this.diceSides)o|=Math.pow(2,parseInt(u,10)-1);o=b["utils"].hexZeroPad("0x".concat(o.toString(16)),32).substring(2),l="0x0000000000000000000000000000000000000000";try{h=this.cookies.get("ref"),f=b["utils"].getAddress(h),l=f}catch(j){this.cookies.remove("ref")}return this.walletAddress===l&&(l="0x0000000000000000000000000000000000000000",this.cookies.remove("ref")),l=b["utils"].hexZeroPad(l,32).substring(2),g="".concat(c).concat(s).concat(o).concat(l),O=[{from:this.walletAddress,to:w["a"],value:a,data:g}],e.next=36,this.providerUser.send("eth_sendTransaction",O);case 36:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),_=(n("78b9"),n("6b0d")),U=n.n(_);const E=U()(N,[["render",M],["__scopeId","data-v-14c40ed7"]]);var W=E,P=n("505f");m.a.config({ROUNDING_MODE:m.a.ROUND_DOWN,EXPONENTIAL_AT:99});var R=1,I=5,T=6,L=0,q=1,G=2,Z=3,z=4,H=5,F=.01,J=.98,K=Object(i["l"])({components:{BettingControls:W,GameHistory:g["a"],MatButton:f["a"],Dice1:P["a"],Dice2:P["b"],Dice3:P["c"],Dice4:P["d"],Dice5:P["e"],Dice6:P["f"]},setup:function(){var e=Object(i["o"])("providerUser"),t=Object(i["o"])("signer"),n=Object(i["o"])("walletAddress"),r=Object(i["o"])("walletBalance"),a=Object(i["o"])("gameBalanceMatic"),c=Object(i["o"])("gameBalanceLink"),s=Object(i["o"])("gameMinimumBet"),o=Object(i["o"])("gameMaxWinAmount");return{providerUser:e,signer:t,walletAddress:n,walletBalance:r,gameBalanceMatic:a,gameBalanceLink:c,gameMinimumBet:s,gameMaxWinAmount:o,GAME_DICE_ADDRESS:w["b"]}},data:function(){return{betAmount:"0.1",diceSides:{}}},computed:{CalculateWinChance:function(){var e=Object.keys(this.diceSides).length;if(e>=R&&e<=I){var t=(e/T*100).toFixed(2);while("0"===t[t.length-1])t=t.substring(0,t.length-1);return"."===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+="%",t}return"---"},ProfitOnWin:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=Object.keys(this.diceSides).length;if(e<=0||e>=T)return"---";var t=e/T,n=new m.a(this.betAmount),i=new m.a(t),r=new m.a(F),a=n.multipliedBy(r),c=n.minus(a),s=c.dividedBy(i),o=s.minus(n);return o.toString()},ProfitOnWinOld:function(){if(isNaN(this.betAmount))return"---";if(!this.betAmount)return"---";var e=new m.a(this.betAmount).multipliedBy(J).toString();return e}},created:function(){this.Randomize()},methods:{ToggleDice:function(e){e in this.diceSides?delete this.diceSides[e]:this.diceSides[e]=!0},Randomize:function(){var e=Math.floor(2*Math.random()),t=Math.floor(2*Math.random()),n=Math.floor(2*Math.random()),i=Math.floor(2*Math.random()),r=Math.floor(2*Math.random()),a=Math.floor(2*Math.random()),c=e+t+n+i+r+a;if(0===c||c===T){var s=Math.floor(Math.random()*T);switch(s){case L:e=e?0:1;break;case q:t=t?0:1;break;case G:n=n?0:1;break;case Z:i=i?0:1;break;case z:r=r?0:1;break;case H:a=a?0:1;break;default:break}}this.diceSides={},e&&(this.diceSides[1]=!0),t&&(this.diceSides[2]=!0),n&&(this.diceSides[3]=!0),i&&(this.diceSides[4]=!0),r&&(this.diceSides[5]=!0),a&&(this.diceSides[6]=!0)},BetAmountUpdated:function(){var e,t,n,i=null===(e=this.betAmount)||void 0===e?void 0:e.indexOf(".");-1!==i&&((null===(t=this.betAmount)||void 0===t?void 0:t.length)>i+3&&(this.betAmount=null===(n=this.betAmount)||void 0===n?void 0:n.substr(0,i+3)))},MakeBet:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,c,s,o,u,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.betAmount){e.next=2;break}return e.abrupt("return");case 2:if(this.providerUser){e.next=4;break}return e.abrupt("return");case 4:if(!isNaN(this.betAmount)){e.next=6;break}return e.abrupt("return");case 6:if(0!==Object.keys(this.diceSides).length){e.next=8;break}return e.abrupt("return");case 8:if(!(Object.keys(this.diceSides).length>=T)){e.next=10;break}return e.abrupt("return");case 10:if(t=new m.a(this.betAmount),n=new m.a(this.gameMinimumBet),i=new m.a(this.gameMaxWinAmount),!t.lt(n)){e.next=18;break}return alert("Bet too small"),e.abrupt("return");case 18:if(!t.multipliedBy(J).gt(i)){e.next=21;break}return alert("Potential win amount is too large"),e.abrupt("return");case 21:for(u in r=t.toString(),a=d["a"].utils.parseUnits(r,"ether").toHexString(),c="0x601886c0",s=b["utils"].hexZeroPad(w["b"],32).substring(2),o=0,this.diceSides)o|=Math.pow(2,parseInt(u,10)-1);return o=b["utils"].hexZeroPad("0x".concat(o.toString(16)),32).substring(2),l="".concat(c).concat(s).concat(o),h=[{from:this.walletAddress,to:w["a"],value:a,data:l}],e.next=32,this.providerUser.send("eth_sendTransaction",h);case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}});n("2745");const V=U()(K,[["render",u],["__scopeId","data-v-a03634fa"]]);t["default"]=V}}]);