(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~ffba60f8"],{"4a45":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));const i="providers/5.4.5"},bc79:function(t,e,r){"use strict";r.d(e,"b",(function(){return x})),r.d(e,"a",(function(){return C}));var i=r("edaa"),n=r("2cf2"),o=r("e36d"),s=r("549e"),l=r("4877"),a=r("0a7f"),c=r("0109"),h=r("9bda"),u=r("3796"),d=r("5273"),f=r("baf7"),m=r("bf2b"),b=r.n(m),k=r("ffb2"),g=r("4a45"),p=r("7f06"),v=function(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(e){o(e)}}function l(t){try{a(i["throw"](t))}catch(e){o(e)}}function a(t){t.done?r(t.value):n(t.value).then(s,l)}a((i=i.apply(t,e||[])).next())}))};const _=new k["b"](g["a"]);function y(t){return null==t?"null":(32!==Object(s["d"])(t)&&_.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function w(t){t=t.slice();while(t.length>0&&null==t[t.length-1])t.pop();return t.map(t=>{if(Array.isArray(t)){const e={};t.forEach(t=>{e[y(t)]=!0});const r=Object.keys(e);return r.sort(),r.join("|")}return y(t)}).join("&")}function N(t){return""===t?[]:t.split(/&/g).map(t=>{if(""===t)return[];const e=t.split("|").map(t=>"null"===t?null:t);return 1===e.length?e[0]:e})}function E(t){if("string"===typeof t){if(t=t.toLowerCase(),32===Object(s["d"])(t))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+w(t);if(i["a"].isForkEvent(t))throw _.warn("not implemented"),new Error("not implemented");if(t&&"object"===typeof t)return"filter:"+(t.address||"*")+":"+w(t.topics||[])}throw new Error("invalid event - "+t)}function O(){return(new Date).getTime()}function T(t){return new Promise(e=>{setTimeout(e,t)})}const B=["block","network","pending","poll"];class R{constructor(t,e,r){Object(h["d"])(this,"tag",t),Object(h["d"])(this,"listener",e),Object(h["d"])(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=N(t[2]),i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||B.indexOf(this.tag)>=0}}const j={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function P(t){return Object(s["h"])(o["a"].from(t).toHexString(),32)}function I(t){return n["a"].encode(Object(s["b"])([t,Object(s["e"])(Object(u["c"])(Object(u["c"])(t)),0,4)]))}class x{constructor(t,e,r){Object(h["d"])(this,"provider",t),Object(h["d"])(this,"name",r),Object(h["d"])(this,"address",t.formatter.address(e))}_fetchBytes(t,e){return v(this,void 0,void 0,(function*(){const r={to:this.address,data:Object(s["c"])([t,Object(a["b"])(this.name),e||"0x"])};try{const t=yield this.provider.call(r);if("0x"===t)return null;const e=o["a"].from(Object(s["e"])(t,0,32)).toNumber(),i=o["a"].from(Object(s["e"])(t,e,e+32)).toNumber();return Object(s["e"])(t,e+32,e+32+i)}catch(i){return i.code,k["b"].errors.CALL_EXCEPTION,null}}))}_getAddress(t,e){const r=j[String(t)];if(null==r&&_.throwError("unsupported coin type: "+t,k["b"].errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const i=Object(s["a"])(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return I(Object(s["b"])([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return I(Object(s["b"])([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=i[1];let e=i[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&i.length===2+t&&t>=1&&t<=75){const t=b.a.toWords(i.slice(2));return t.unshift(e),b.a.encode(r.prefix,t)}}return null}getAddress(t){return v(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t={to:this.address,data:"0x3b3b57de"+Object(a["b"])(this.name).substring(2)},e=yield this.provider.call(t);return"0x"===e||e===l["a"]?null:this.provider.formatter.callAddress(e)}catch(i){if(i.code===k["b"].errors.CALL_EXCEPTION)return null;throw i}const e=yield this._fetchBytes("0xf1cb7e06",P(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&_.throwError("invalid or unsupported coin data",k["b"].errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getContentHash(){return v(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+n["a"].encode("0x"+e[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:_.throwError("invalid or unsupported content hash data",k["b"].errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return v(this,void 0,void 0,(function*(){let e=Object(d["f"])(t);e=Object(s["b"])([P(64),P(e.length),e]),e.length%32!==0&&(e=Object(s["b"])([e,Object(s["h"])("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Object(s["i"])(e));return null==r||"0x"===r?null:Object(d["h"])(r)}))}}let A=null,L=1;class C extends i["b"]{constructor(t){if(_.checkNew(new.target,i["b"]),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Object(h["d"])(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(t=>{}),this._ready().catch(t=>{});else{const e=Object(h["e"])(new.target,"getNetwork")(t);e?(Object(h["d"])(this,"_network",e),this.emit("network",e,null)):_.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return v(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(t){}null==e&&(e=yield this.detectNetwork()),e||_.throwError("no network detected",k["b"].errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:Object(h["d"])(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return Object(f["c"])(()=>this._ready().then(t=>t,t=>{if(t.code!==k["b"].errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))}static getFormatter(){return null==A&&(A=new p["a"]),A}static getNetwork(t){return Object(c["a"])(null==t?"homestead":t)}_getInternalBlockNumber(t){return v(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)while(this._internalBlockNumber){const e=this._internalBlockNumber;try{const r=yield e;if(O()-r.respTime<=t)return r.blockNumber;break}catch(i){if(this._internalBlockNumber===e)break}}const e=O(),r=Object(h["f"])({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(t=>null,t=>t)}).then(({blockNumber:t,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const n=O();return t=o["a"].from(t).toNumber(),t<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:n}});return this._internalBlockNumber=r,r.catch(t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber}))}poll(){return v(this,void 0,void 0,(function*(){const t=L++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){return void this.emit("error",i)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)_.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",_.makeError("network block skew detected",k["b"].errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(t=>{switch(t.type){case"tx":{const r=t.hash;let i=this.getTransactionReceipt(r).then(t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null).catch(t=>{this.emit("error",t)});e.push(i);break}case"filter":{const i=t.filter;i.fromBlock=this._lastBlockNumber+1,i.toBlock=r;const n=this.getLogs(i).then(t=>{0!==t.length&&t.forEach(t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(i,t)})}).catch(t=>{this.emit("error",t)});e.push(n);break}}}),this._lastBlockNumber=r,Promise.all(e).then(()=>{this.emit("didPoll",t)}).catch(t=>{this.emit("error",t)})}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return v(this,void 0,void 0,(function*(){return _.throwError("provider does not support network detection",k["b"].errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return v(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield T(0),this._network;const r=_.makeError("underlying network changed",k["b"].errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!==typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=O();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=O(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return v(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,i){return v(this,void 0,void 0,(function*(){const n=yield this.getTransactionReceipt(t);return(n?n.confirmations:0)>=e?n:new Promise((n,o)=>{const s=[];let l=!1;const a=function(){return!!l||(l=!0,s.forEach(t=>{t()}),!1)},c=t=>{t.confirmations<e||a()||n(t)};if(this.on(t,c),s.push(()=>{this.removeListener(t,c)}),i){let r=i.startBlock,n=null;const c=s=>v(this,void 0,void 0,(function*(){l||(yield T(1e3),this.getTransactionCount(i.from).then(h=>v(this,void 0,void 0,(function*(){if(!l){if(h<=i.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}null==n&&(n=r-3,n<i.startBlock&&(n=i.startBlock));while(n<=s){if(l)return;const r=yield this.getBlockWithTransactions(n);for(let n=0;n<r.transactions.length;n++){const s=r.transactions[n];if(s.hash===t)return;if(s.from===i.from&&s.nonce===i.nonce){if(l)return;const r=yield this.waitForTransaction(s.hash,e);if(a())return;let n="replaced";return s.data===i.data&&s.to===i.to&&s.value.eq(i.value)?n="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(n="cancelled"),void o(_.makeError("transaction was replaced",k["b"].errors.TRANSACTION_REPLACED,{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}n++}}l||this.once("block",c)}})),t=>{l||this.once("block",c)}))}));if(l)return;this.once("block",c),s.push(()=>{this.removeListener("block",c)})}if("number"===typeof r&&r>0){const t=setTimeout(()=>{a()||o(_.makeError("timeout exceeded",k["b"].errors.TIMEOUT,{timeout:r}))},r);t.unref&&t.unref(),s.push(()=>{clearTimeout(t)})}})}))}getBlockNumber(){return v(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return o["a"].from(t)}catch(e){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Object(h["f"])({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getBalance",r);try{return o["a"].from(i)}catch(n){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:n})}}))}getTransactionCount(t,e){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Object(h["f"])({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getTransactionCount",r);try{return o["a"].from(i).toNumber()}catch(n){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:n})}}))}getCode(t,e){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Object(h["f"])({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getCode",r);try{return Object(s["i"])(i)}catch(n){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:n})}}))}getStorageAt(t,e,r){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const i=yield Object(h["f"])({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then(t=>Object(s["g"])(t))}),n=yield this.perform("getStorageAt",i);try{return Object(s["i"])(n)}catch(o){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:n,error:o})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Object(s["d"])(e))throw new Error("invalid response - sendTransaction");const i=t;return null!=e&&t.hash!==e&&_.throwError("Transaction hash mismatch from Provider.sendTransaction.",k["b"].errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),i.wait=(e,i)=>v(this,void 0,void 0,(function*(){null==e&&(e=1),null==i&&(i=0);let n=void 0;0!==e&&null!=r&&(n={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,i,n);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&_.throwError("transaction failed",k["b"].errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),i}sendTransaction(t){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then(t=>Object(s["i"])(t)),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,i)}catch(n){throw n.transaction=r,n.transactionHash=r.hash,n}}))}_getTransactionRequest(t){return v(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?this._getAddress(t):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?o["a"].from(t):null))}),["type"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>null!=t?t:null))}),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?Object(s["i"])(t):null))}),this.formatter.transactionRequest(yield Object(h["f"])(r))}))}_getFilter(t){return v(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach(r=>{null!=t[r]&&(e[r]=t[r])}),["fromBlock","toBlock"].forEach(r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))}),this.formatter.filter(yield Object(h["f"])(e))}))}call(t,e){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Object(h["f"])({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("call",r);try{return Object(s["i"])(i)}catch(n){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"call",params:r,result:i,error:n})}}))}estimateGas(t){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Object(h["f"])({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return o["a"].from(r)}catch(i){return _.throwError("bad result from backend",k["b"].errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:i})}}))}_getAddress(t){return v(this,void 0,void 0,(function*(){const e=yield this.resolveName(t);return null==e&&_.throwError("ENS name not configured",k["b"].errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return v(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const i={includeTransactions:!!e};if(Object(s["l"])(t,32))i.blockHash=t;else try{i.blockTag=this.formatter.blockTag(yield this._getBlockTag(t)),Object(s["l"])(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch(n){_.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Object(f["c"])(()=>v(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",i);if(null==t)return null!=i.blockHash&&null==this._emitted["b:"+i.blockHash]||null!=i.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let i=0;i<t.transactions.length;i++){const r=t.transactions[i];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map(t=>this._wrapTransaction(t)),r}return this.formatter.block(t)})),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return v(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Object(f["c"])(()=>v(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const i=this.formatter.transactionResponse(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){const t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let e=t-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return this._wrapTransaction(i)})),{oncePoll:this})}))}getTransactionReceipt(t){return v(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Object(f["c"])(()=>v(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const i=this.formatter.receipt(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){const t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let e=t-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return i})),{oncePoll:this})}))}getLogs(t){return v(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Object(h["f"])({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach(t=>{null==t.removed&&(t.removed=!1)}),p["a"].arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return v(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return v(this,void 0,void 0,(function*(){if(t=yield t,"number"===typeof t&&t<0){t%1&&_.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return v(this,void 0,void 0,(function*(){try{const e=yield this._getResolver(t);return null==e?null:new x(this,e,t)}catch(e){return e.code,k["b"].errors.CALL_EXCEPTION,null}}))}_getResolver(t){return v(this,void 0,void 0,(function*(){const e=yield this.getNetwork();e.ensAddress||_.throwError("network does not support ENS",k["b"].errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:e.name});const r={to:e.ensAddress,data:"0x0178b8bf"+Object(a["b"])(t).substring(2)};try{return this.formatter.callAddress(yield this.call(r))}catch(i){if(i.code===k["b"].errors.CALL_EXCEPTION)return null;throw i}}))}resolveName(t){return v(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(r){if(Object(s["l"])(t))throw r}"string"!==typeof t&&_.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return v(this,void 0,void 0,(function*(){t=yield t,t=this.formatter.address(t);const e=t.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e);if(!r)return null;let i=Object(s["a"])(yield this.call({to:r,data:"0x691f3431"+Object(a["b"])(e).substring(2)}));if(i.length<32||!o["a"].from(i.slice(0,32)).eq(32))return null;if(i=i.slice(32),i.length<32)return null;const n=o["a"].from(i.slice(0,32)).toNumber();if(i=i.slice(32),n>i.length)return null;const l=Object(d["h"])(i.slice(0,n)),c=yield this.resolveName(l);return c!=t?null:l}))}perform(t,e){return _.throwError(t+" not implemented",k["b"].errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(t,e,r){const i=new R(E(t),e,r);return this._events.push(i),this._startEvent(i),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,i=[],n=E(t);return this._events=this._events.filter(t=>t.tag!==n||(setTimeout(()=>{t.listener.apply(this,e)},0),r=!0,!t.once||(i.push(t),!1))),i.forEach(t=>{this._stopEvent(t)}),r}listenerCount(t){if(!t)return this._events.length;let e=E(t);return this._events.filter(t=>t.tag===e).length}listeners(t){if(null==t)return this._events.map(t=>t.listener);let e=E(t);return this._events.filter(t=>t.tag===e).map(t=>t.listener)}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let i=!1,n=E(t);return this._events=this._events.filter(t=>t.tag!==n||t.listener!=e||(!!i||(i=!0,r.push(t),!1))),r.forEach(t=>{this._stopEvent(t)}),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=E(t);this._events=this._events.filter(t=>t.tag!==r||(e.push(t),!1))}return e.forEach(t=>{this._stopEvent(t)}),this}}},db78:function(t,e,r){"use strict";r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return d}));var i=r("9bda"),n=r("7f06"),o=r("7b64"),s=r("ffb2"),l=r("4a45"),a=r("bf37");const c=new s["b"](l["a"]),h="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class u extends o["a"]{constructor(t,e){const r=new d(t,e),n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network),Object(i["d"])(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===h}}class d extends a["b"]{static getWebSocketProvider(t,e){return new u(t,e)}static getApiKey(t){return null==t?h:(t&&"string"!==typeof t&&c.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,e){let r=null;switch(t.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;default:c.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+e,throttleCallback:(t,r)=>(e===h&&Object(n["d"])(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===h}}}}]);